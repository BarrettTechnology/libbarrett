array_test:
{
	four = (-20, -.5, 0.0, 38.2);
	five = (-20, -.5, 0.0, 38.2, 2.3e4);
	six = (-20, -.5, 0.0, 38.2, 2.3e4, 209);
};

pid_controller_test:
{
	kp = (1, 1, 1, 1, 1);
	ki = (2, 2, 2, 2, 2);
	kd = (3, 3, 3, 3, 3);
	integrator_limit = (4, 4, 4, 4, 4);
	control_signal_limit = (5, 5, 5, 5, 5);
};

manual_execution_manager_test:
{
	control_loop_period = 0.5386;
};

wam:
{

   # wam hardware-specific stuff
   low_level:
   {
	   bus:
	   {
		   port = 0;
	   };
	   dof = 7;
	   home = ( 0, -1.94, 0, 3.14, 0, 1.57, 0 );
	   j2mp = (( -42.0,      0,        0,     0,   0,    0,     0 ),
	           (     0,  28.25, -16.8155,     0,   0,    0,     0 ),
	           (     0, -28.25, -16.8155,     0,   0,    0,     0 ),
	           (     0,      0,        0, -18.0,   0,    0,     0 ),
	           (     0,      0,        0,     0, 9.7,    0,     0 ),
	           (     0,      0,        0,     0,   0, -6.2,     0 ),
	           (     0,      0,        0,     0,   0,    0,  10.7 ));
   };

   kinematics:
   {
	   # For a 7-DOF WAM
	   moving:
	   (
		   # Note: alpha_pi = alpha / pi
		   { alpha_pi = -0.5; a =      0; d =      0; }, # Base Yaw
		   { alpha_pi =  0.5; a =      0; d =      0; }, # Base Pitch
		   { alpha_pi = -0.5; a =  0.045; d = 0.5500; }, # Twist
		   { alpha_pi =  0.5; a = -0.045; d =      0; }, # Elbow
		   { alpha_pi = -0.5; a =      0; d = 0.4930; }, # Gimbals Yaw
		   { alpha_pi =  0.5; a =      0; d =      0; }, # Gimbals Pitch
		   { alpha_pi = -0.5; a =      0; d =      0; }  # Gimbals Twist
	   );
	   toolplate = { alpha_pi = 0.5; theta_pi = 0; a = 0; d = 0; };
   };
   
   dynamics:
   {
      /* From inertial specifications Sept 2008 */
      moving:
      (
         {
            # Link 1
            mass = 10.7677;
            com = ( -4.43e-3, 121.89e-3, -0.66e-3 );
            I = (( 134880.33e-6,  -2130.41e-6,  -124.85e-6 ),
                 (  -2130.41e-6, 113283.69e-6,   685.55e-6 ),
                 (   -124.85e-6,    685.55e-6, 90463.30e-6 ));
         },
         {
            # Link 2
            mass = 3.8749;
            com = ( -2.37e-3, 31.06e-3, 15.42e-3 );
            I = (( 21409.58e-6,   271.72e-6,    24.61e-6 ),
                 (   271.72e-6, 13778.75e-6, -1819.20e-6 ),
                 (    24.61e-6, -1819.20e-6, 15589.06e-6 ));
         },
         {
            # Link 3
            mass = 1.8023;
            com = ( -38.26e-3, 207.51e-3, 0.03e-3 );
            I = (( 59110.77e-6, -2496.12e-6,     7.38e-6 ),
                 ( -2496.12e-6,  3245.50e-6,   -17.67e-6 ),
                 (     7.38e-6,   -17.67e-6, 59270.43e-6 ));
         },
         {
            # Link 4
            mass = 1.0651;
            com = ( 10.95e-3, -0.03e-3, 140.54e-3 );
            I = (( 18485.77e-6,     2.19e-6, -1608.68e-6 ),
                 (     2.19e-6, 18916.58e-6,     5.15e-6 ),
                 ( -1608.68e-6,     5.15e-6,  1975.17e-6 ));
         },
         # Note - below is really, really wrong!
         {
            # Link 5
            mass = 2.0;
            com = ( 0e-3, 200.0e-3, 0e-3 );
            I = (( 1e-3, 0e-3, 0e-3 ),
                 ( 0e-3, 1e-3, 0e-3 ),
                 ( 0e-3, 0e-3, 1e-3 ));
         },
         {
            # Link 6
            mass = 0.2;
            com = ( 0e-3, 0e-3, 0e-3 );
            I = (( 1e-3, 0e-3, 0e-3 ),
                 ( 0e-3, 1e-3, 0e-3 ),
                 ( 0e-3, 0e-3, 1e-3 ));
         },
         {
            # Link 7
            mass = 0.1;
            com = ( 0e-3, 0e-3, 0e-3 );
            I = (( 1e-3, 0e-3, 0e-3 ),
                 ( 0e-3, 1e-3, 0e-3 ),
                 ( 0e-3, 0e-3, 1e-3 ));
         }

         # Tool?
      );
   };

	gravity_compensation:
	{
		# For the gimbals
		mus =	((-0.559014,  0.000002,  0.055048),
				(  0.044720, -0.165526,  3.170425),
				(  0.202083,  0.335347,  0.084966),
				( -0.157794, -0.105447,  0.972086),
				(  0.000275, -0.000155,  0.000719),
				( -0.000108,  0.000066, -0.000157),
				( -0.000088,  0.000097, -0.000027));
	};
   
	joint_position_control:
	{
		kp = ( 900, 2500,  600,  500,   40,   20,    5);
		ki = (   0,    0,    0,    0,    0,    0,    0);
		kd = (   2,    2,  0.5,  0.8,  0.8,  0.1,  0.1);
		control_signal_limit = (25, 20, 15, 15, 5, 5, 5);
	};

	tool_position_control:
	{
		kp = (2000, 2000, 2000);
		ki = (   0,    0,    0);
		kd = (  20,   20,   20);
	};

   control_joint_legacy:
   {
      pids:
      (
         { p =  900; i = 2.5; d =    2; },
         { p = 2500; i = 5.0; d =    2; },
         { p =  600; i = 2.5; d =  0.5; },
         { p =  500; i = 0.5; d =  0.8; },
         { p =   40; i = 0.0; d =  0.8; },
         { p =   20; i = 0.0; d =  0.1; },
         { p =    5; i = 0.0; d = 0.01; }
      );
   };
   
   control_joint:
   {
      pids:
      (
         { p = 2000;  i = 0; d = 2; },
         { p = 1500;  i = 0; d = 2; },
         { p = 2000;  i = 0; d = 2; },
         { p = 1500;  i = 0; d = 3; },
         { p = 10000; i = 0; d = 1; },
         { p = 3000;  i = 0; d = 2; },
         { p = 10000; i = 0; d = 1; }
      );
   };
   
   control_cartesian_xyz:
   {
      pids:
      {
         x: { p = 2000; i = 0; d = 20; };
         y: { p = 2000; i = 0; d = 20; };
         z: { p = 2000; i = 0; d = 20; };
      };
   };
   
   control_cartesian_xyz_q:
   {
      pids:
      {
#         x: { p = 2000; i = 0; d = 20; };
#         y: { p = 2000; i = 0; d = 20; };
#         z: { p = 2000; i = 0; d = 20; };
#         rot: { p = 20; d = 0.2; };
         x: { p = 0; i = 0; d = 0; };
         y: { p = 0; i = 0; d = 0; };
         z: { p = 0; i = 0; d = 0; };
         rot: { p = 1; d = 0; };
      };
   };

};
